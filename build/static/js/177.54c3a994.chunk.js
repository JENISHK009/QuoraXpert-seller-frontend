"use strict";(self.webpackChunkquoraxpert=self.webpackChunkquoraxpert||[]).push([[177],{7301:(e,r,t)=>{t.d(r,{A:()=>l});t(5043);var n=t(5903),a=t(1906),s=t(1637),i=t(579);const o=(0,n.A)(a.A)({textTransform:"none",fontSize:"16px","&:active":{backgroundColor:"#0069BF"},"@media (max-width: 600px)":{fontSize:"12px",padding:"16px"}}),l=e=>{let{btnTitle:r,sx:t,onBtnClick:n,disabled:a=!1,loading:l,type:d="",fullWidth:c=!1}=e;return(0,i.jsx)(o,{variant:"contained",sx:{backgroundColor:"#0069BF",color:"#FFFFFF",fontFamily:"Poppins Medium","&:hover":{backgroundColor:"#0069BF"},...t},fullWidth:c,onClick:n,disabled:a,type:d,children:l?(0,i.jsx)(s.A,{size:24,color:"inherit"}):r})}},3177:(e,r,t)=>{t.r(r),t.d(r,{default:()=>E});var n=t(5043),a=t(4516),s=t(9424),i=t(4496),o=t(6839),l=t(5078),d=t(2299),c=t(4535),u=t(3216),p=t(4858),m=t(3003),x=t(7243),g=t(2433),h=t(6240),v=t(2748),A=t(7301),y=t(7784),f=t(7402),b=t(579);const j=e=>{let{control:r,errors:t}=e;return(0,b.jsx)(p.xI,{name:"email",control:r,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:e=>{var r;let{field:n}=e;return(0,b.jsx)(y.A,{...n,fullWidth:!0,id:"email",label:"Email",error:!!t.email,helperText:null===(r=t.email)||void 0===r?void 0:r.message,InputProps:{startAdornment:(0,b.jsx)(f.A,{color:"primary",style:{marginRight:"8px"}})}})}})};var C=t(3193),w=t(9190),S=t(9285),I=t(673),k=t(9859),O=t(3217),$=t(8734),T=t(6325),P=t(7260),M=t(2819);const R=[{id:"1",name:"Student"},{id:"66d4b450ee639042f6816f17",name:"Expert"}],q=e=>{let{control:r,errors:t,categoriesData:s}=e;const[i,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[g,h]=(0,n.useState)([]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(a.A,{sx:{display:"flex",gap:2},children:[(0,b.jsx)(p.xI,{name:"name",control:r,rules:{required:"Name is required"},render:e=>{var r;let{field:n}=e;return(0,b.jsx)(y.A,{...n,fullWidth:!0,label:"Name",error:!!t.name,helperText:null===(r=t.name)||void 0===r?void 0:r.message})}}),(0,b.jsx)(p.xI,{name:"gender",control:r,rules:{required:"Gender is required"},render:e=>{let{field:r}=e;return(0,b.jsxs)(C.A,{fullWidth:!0,children:[(0,b.jsx)(w.A,{children:"Gender"}),(0,b.jsxs)(S.A,{...r,label:"Gender",children:[(0,b.jsx)(I.A,{value:"Male",children:"Male"}),(0,b.jsx)(I.A,{value:"Female",children:"Female"}),(0,b.jsx)(I.A,{value:"Other",children:"Other"})]})]})}})]}),(0,b.jsxs)(a.A,{sx:{display:"flex",gap:2,mt:2},children:[(0,b.jsx)(p.xI,{name:"roleId",control:r,rules:{required:"Role is required"},render:e=>{let{field:r}=e;return(0,b.jsxs)(C.A,{fullWidth:!0,children:[(0,b.jsx)(w.A,{children:"Role"}),(0,b.jsx)(S.A,{...r,label:"Role",children:R.map((e=>(0,b.jsx)(I.A,{value:e.id,children:e.name},e.id)))})]})}}),(0,b.jsx)(p.xI,{name:"categoryIds",control:r,rules:{required:"At least one category is required"},render:e=>{let{field:r}=e;return(0,b.jsxs)(C.A,{fullWidth:!0,children:[(0,b.jsx)(w.A,{children:"Categories"}),(0,b.jsx)(S.A,{...r,multiple:!0,input:(0,b.jsx)(k.A,{label:"Categories"}),renderValue:e=>e.map((e=>{var r;return null===(r=s.find((r=>r._id===e)))||void 0===r?void 0:r.categoryName})).join(", "),onChange:e=>((e,r)=>{const t=e.target.value;u(t),x([]),h([]),r(t)})(e,r.onChange),value:r.value||[],children:null===s||void 0===s?void 0:s.map((e=>(0,b.jsxs)(I.A,{value:e._id,children:[(0,b.jsx)(O.A,{checked:(r.value||[]).indexOf(e._id)>-1}),(0,b.jsx)($.A,{primary:e.categoryName})]},e._id)))})]})}})]}),(0,b.jsxs)(a.A,{sx:{display:"flex",gap:2,mt:2},children:[(0,b.jsx)(p.xI,{name:"subcategoryIds",control:r,render:e=>{let{field:r}=e;return(0,b.jsxs)(C.A,{fullWidth:!0,children:[(0,b.jsx)(w.A,{children:"Subcategories"}),(0,b.jsx)(S.A,{...r,multiple:!0,input:(0,b.jsx)(k.A,{label:"Subcategories"}),renderValue:e=>e.map((e=>{var r;return null===(r=c.flatMap((e=>{var r;return(null===(r=s.find((r=>r._id===e)))||void 0===r?void 0:r.subcategories)||[]})).find((r=>r._id===e)))||void 0===r?void 0:r.subCategoryName})).filter(Boolean).join(", "),onChange:e=>((e,r)=>{const t=e.target.value;x(t),h([]),r(t)})(e,r.onChange),value:r.value||[],children:c.flatMap((e=>{var r;return(null===(r=s.find((r=>r._id===e)))||void 0===r?void 0:r.subcategories)||[]})).map((e=>(0,b.jsxs)(I.A,{value:e._id,children:[(0,b.jsx)(O.A,{checked:(r.value||[]).indexOf(e._id)>-1}),(0,b.jsx)($.A,{primary:e.subCategoryName})]},e._id)))})]})}}),(0,b.jsx)(p.xI,{name:"nestedCategoryIds",control:r,render:e=>{let{field:r}=e;return(0,b.jsxs)(C.A,{fullWidth:!0,children:[(0,b.jsx)(w.A,{children:"Nested Subcategories"}),(0,b.jsx)(S.A,{...r,multiple:!0,input:(0,b.jsx)(k.A,{label:"Nested Subcategories"}),renderValue:e=>e.map((e=>{var r;return null===(r=m.flatMap((e=>{var r;return(null===(r=c.flatMap((e=>{var r;return(null===(r=s.find((r=>r._id===e)))||void 0===r?void 0:r.subcategories)||[]})).find((r=>r._id===e)))||void 0===r?void 0:r.nestedSubcategories)||[]})).find((r=>r._id===e)))||void 0===r?void 0:r.subCategoryName})).filter(Boolean).join(", "),value:r.value||[],children:m.flatMap((e=>{var r;return(null===(r=c.flatMap((e=>{var r;return(null===(r=s.find((r=>r._id===e)))||void 0===r?void 0:r.subcategories)||[]})).find((r=>r._id===e)))||void 0===r?void 0:r.nestedSubcategories)||[]})).map((e=>(0,b.jsxs)(I.A,{value:e._id,children:[(0,b.jsx)(O.A,{checked:(r.value||[]).indexOf(e._id)>-1}),(0,b.jsx)($.A,{primary:e.subCategoryName})]},e._id)))})]})}})]}),(0,b.jsxs)(a.A,{sx:{display:"flex",gap:2,mt:2},children:[(0,b.jsx)(p.xI,{name:"password",control:r,rules:{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}},render:e=>{var r;let{field:n}=e;return(0,b.jsx)(y.A,{...n,fullWidth:!0,label:"Password",type:i?"text":"password",error:!!t.password,helperText:null===(r=t.password)||void 0===r?void 0:r.message,InputProps:{startAdornment:(0,b.jsx)(T.A,{color:"primary",style:{marginRight:"8px"}}),endAdornment:(0,b.jsx)(A.A,{btnTitle:i?(0,b.jsx)(M.A,{}):(0,b.jsx)(P.A,{}),onBtnClick:()=>o(!i),sx:{minWidth:"unset"}})}})}}),(0,b.jsx)(p.xI,{name:"confirmPassword",control:r,rules:{required:"Confirm Password is required",validate:(e,r)=>{const{password:t}=r;return e===t||"The passwords do not match"}},render:e=>{var r;let{field:n}=e;return(0,b.jsx)(y.A,{...n,fullWidth:!0,label:"Confirm Password",type:l?"text":"password",error:!!t.confirmPassword,helperText:null===(r=t.confirmPassword)||void 0===r?void 0:r.message,InputProps:{startAdornment:(0,b.jsx)(T.A,{color:"primary",style:{marginRight:"8px"}}),endAdornment:(0,b.jsx)(A.A,{btnTitle:l?(0,b.jsx)(M.A,{}):(0,b.jsx)(P.A,{}),onBtnClick:()=>d(!l),sx:{minWidth:"unset"}})}})}})]})]})};var N=t(1673),W=t(2376);const _=e=>{let{control:r}=e;const t=(0,m.wA)(),[s,o]=(0,n.useState)(0),l=(0,m.d4)(x.wA),{loading:d,success:c,message:u}=(0,m.d4)(x.qO);(0,n.useEffect)((()=>{let e=null;return s>0&&(e=setInterval((()=>{o((e=>e-1))}),1e3)),()=>clearInterval(e)}),[s]),(0,n.useEffect)((()=>{!d&&!c&&s>0&&o(0)}),[d,c,s]);return(0,b.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)(p.xI,{control:r,rules:{validate:e=>6===e.length},render:e=>{let{field:r,fieldState:t}=e;return(0,b.jsxs)(a.A,{sx:{mb:2},children:[(0,b.jsx)(W.p,{sx:{gap:1},...r,length:6}),t.invalid&&(0,b.jsx)(N.A,{error:!0,children:"OTP invalid"})]})},name:"otp"}),(0,b.jsx)(a.A,{sx:{minHeight:"20px",mb:1},children:s>0?(0,b.jsx)(i.A,{variant:"caption",color:"textSecondary",children:"You can request a new OTP after the timer ends."}):!c&&u&&(0,b.jsx)(i.A,{variant:"caption",color:"error",children:u})}),(0,b.jsx)("button",{onClick:()=>{if(0===s){const e={token:l};t(x.mn.reSendOtp(e)),o(60)}},disabled:s>0||d,style:{margin:"10px 0",padding:"10px 20px",backgroundColor:s>0||d?"#ccc":"#0069BF",color:"white",border:"none",borderRadius:"5px",cursor:s>0||d?"not-allowed":"pointer"},children:d?"Resending OTP...":s>0?`Resend OTP (${s}s)`:"Resend OTP"})]})},B=(0,c.Ay)(a.A)((e=>{let{theme:r}=e;return{width:"90%",maxWidth:"1200px",backgroundColor:r.palette.background.paper,boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur(8.5px)",borderRadius:"20px",overflow:"hidden",padding:"2rem"}})),F=(0,c.Ay)(a.A)((e=>{let{theme:r}=e;return{flex:1,backgroundImage:`url(${v})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",[r.breakpoints.down("md")]:{display:"none"}}})),L=(0,c.Ay)(a.A)((e=>{let{theme:r}=e;return{flex:1,padding:r.spacing(4),display:"flex",flexDirection:"column",justifyContent:"center"}})),V=["Enter Email","Complete Profile","Verify OTP"];function E(){const e=(0,u.Zp)(),r=(0,m.wA)(),t=(0,h.A)(),[c,y]=(0,n.useState)(0),[f,C]=(0,n.useState)(""),[w,S]=(0,n.useState)({toastOpen:!1,messageApi:"",severity:"success"}),I=(0,m.d4)(x.SJ),k=(0,m.d4)(x.gq),O=(0,m.d4)(x.oK),$=(0,m.d4)(x.gg),T=(0,m.d4)(x.wA),P=(0,m.d4)(x.SL),{control:M,handleSubmit:R,formState:{errors:N},register:W}=(0,p.mN)();(0,n.useEffect)((()=>{const r=0===c?I:1===c?k:O;r.message&&(S({toastOpen:!0,messageApi:r.message,severity:r.success?"success":"error"}),r.success&&(c<2?y((e=>e+1)):2===c&&e("/dashboard")))}),[I,k,O,c,e]),(0,n.useEffect)((()=>{r(x.mn.getCategories({}))}),[r]);const E=(0,n.useMemo)((()=>[(0,b.jsx)(j,{control:M,errors:N,register:W}),(0,b.jsx)(q,{control:M,errors:N,register:W,categoriesData:P}),(0,b.jsx)(_,{control:M})]),[M,N,W,P])[c],G=R(0===c?e=>{C(e.email),r(x.mn.signUp(e))}:1===c?e=>{const t={...e,token:$,email:f};r(x.mn.addProfile(t))}:e=>{const t={token:T,otp:e.otp};r(x.mn.verifySignUpOtp(t))}),D=0===c?I.loading:1===c?k.loading:O.loading;return(0,b.jsxs)(a.A,{sx:{height:"100vh",backgroundImage:`url(${v})`,backgroundSize:"cover",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,b.jsxs)(B,{children:[(0,b.jsx)(F,{}),(0,b.jsx)(L,{children:(0,b.jsxs)(s.A,{maxWidth:"sm",children:[(0,b.jsxs)(a.A,{sx:{textAlign:"center",mb:4},children:[(0,b.jsx)(i.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Create Your Account"}),(0,b.jsx)(i.A,{variant:"body2",children:"Please follow the steps to sign up"})]}),(0,b.jsx)(o.A,{activeStep:c,alternativeLabel:!0,sx:{mb:4},children:V.map((e=>(0,b.jsx)(l.A,{children:(0,b.jsx)(d.A,{children:e})},e)))}),(0,b.jsxs)("form",{onSubmit:G,children:[E,(0,b.jsx)(A.A,{btnTitle:2===c?"Verify OTP":"Continue",type:"submit",fullWidth:!0,loading:D,sx:{mt:3}})]}),(0,b.jsxs)(i.A,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["Already have an account?"," ",(0,b.jsx)("span",{style:{cursor:"pointer",color:t.palette.primary.main},onClick:()=>e("/login"),children:"Sign In"})]})]})})]}),w.toastOpen&&(0,b.jsx)(g.A,{open:w.toastOpen,onClose:()=>S((e=>({...e,toastOpen:!1}))),toastSeverity:w.severity,autoHideDuration:4e3,message:w.messageApi})]})}},1424:(e,r,t)=>{t.d(r,{A:()=>i,f:()=>s});var n=t(2532),a=t(2372);function s(e){return(0,a.Ay)("MuiListItemIcon",e)}const i=(0,n.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},8734:(e,r,t)=>{t.d(r,{A:()=>x});var n=t(5043),a=t(8387),s=t(8610),i=t(3618),o=t(4496),l=t(1347),d=t(4535),c=t(8249),u=t(5671),p=t(579);const m=(0,d.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${u.A.primary}`]:r.primary},{[`& .${u.A.secondary}`]:r.secondary},r.root,t.inset&&r.inset,t.primary&&t.secondary&&r.multiline,t.dense&&r.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${i.A.root}:where(& .${u.A.primary})`]:{display:"block"},[`.${i.A.root}:where(& .${u.A.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:r}=e;return r.primary&&r.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:r}=e;return r.inset},style:{paddingLeft:56}}]}),x=n.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiListItemText"}),{children:i,className:d,disableTypography:x=!1,inset:g=!1,primary:h,primaryTypographyProps:v,secondary:A,secondaryTypographyProps:y,...f}=t,{dense:b}=n.useContext(l.A);let j=null!=h?h:i,C=A;const w={...t,disableTypography:x,inset:g,primary:!!j,secondary:!!C,dense:b},S=(e=>{const{classes:r,inset:t,primary:n,secondary:a,dense:i}=e,o={root:["root",t&&"inset",i&&"dense",n&&a&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,s.A)(o,u.b,r)})(w);return null==j||j.type===o.A||x||(j=(0,p.jsx)(o.A,{variant:b?"body2":"body1",className:S.primary,component:v?.variant?void 0:"span",...v,children:j})),null==C||C.type===o.A||x||(C=(0,p.jsx)(o.A,{variant:"body2",className:S.secondary,color:"textSecondary",...y,children:C})),(0,p.jsxs)(m,{className:(0,a.A)(S.root,d),ownerState:w,ref:r,...f,children:[j,C]})}))},5671:(e,r,t)=>{t.d(r,{A:()=>i,b:()=>s});var n=t(2532),a=t(2372);function s(e){return(0,a.Ay)("MuiListItemText",e)}const i=(0,n.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},673:(e,r,t)=>{t.d(r,{A:()=>w});var n=t(5043),a=t(8387),s=t(8610),i=t(6596),o=t(1475),l=t(4535),d=t(6870),c=t(8249),u=t(1347),p=t(3424),m=t(5013),x=t(5849),g=t(2532);const h=(0,g.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var v=t(1424),A=t(5671),y=t(2372);function f(e){return(0,y.Ay)("MuiMenuItem",e)}const b=(0,g.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=t(579);const C=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,o.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.dense&&r.dense,t.divider&&r.divider,!t.disableGutters&&r.gutters]}})((0,d.A)((e=>{let{theme:r}=e;return{...r.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:(0,i.X4)(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:(0,i.X4)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:(0,i.X4)(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:(0,i.X4)(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${b.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`& + .${h.root}`]:{marginTop:r.spacing(1),marginBottom:r.spacing(1)},[`& + .${h.inset}`]:{marginLeft:52},[`& .${A.A.root}`]:{marginTop:0,marginBottom:0},[`& .${A.A.inset}`]:{paddingLeft:36},[`& .${v.A.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:r}=e;return!r.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:r}=e;return r.divider},style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:r}=e;return!r.dense},style:{[r.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:r}=e;return r.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...r.typography.body2,[`& .${v.A.root} svg`]:{fontSize:"1.25rem"}}}]}}))),w=n.forwardRef((function(e,r){const t=(0,c.b)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:g,role:h="menuitem",tabIndex:v,className:A,...y}=t,b=n.useContext(u.A),w=n.useMemo((()=>({dense:l||b.dense||!1,disableGutters:p})),[b.dense,l,p]),S=n.useRef(null);(0,m.A)((()=>{i&&S.current&&S.current.focus()}),[i]);const I={...t,dense:w.dense,divider:d,disableGutters:p},k=(e=>{const{disabled:r,dense:t,divider:n,disableGutters:a,selected:i,classes:o}=e,l={root:["root",t&&"dense",r&&"disabled",!a&&"gutters",n&&"divider",i&&"selected"]},d=(0,s.A)(l,f,o);return{...o,...d}})(t),O=(0,x.A)(S,r);let $;return t.disabled||($=void 0!==v?v:-1),(0,j.jsx)(u.A.Provider,{value:w,children:(0,j.jsx)(C,{ref:O,role:h,tabIndex:$,component:o,focusVisibleClassName:(0,a.A)(k.focusVisible,g),className:(0,a.A)(k.root,A),...y,ownerState:I,classes:k})})}))},2748:(e,r,t)=>{e.exports=t.p+"static/media/newBg.5905fe90b73961f15cbd.jpg"}}]);
//# sourceMappingURL=177.54c3a994.chunk.js.map